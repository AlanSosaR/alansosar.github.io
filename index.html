<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Café Cortero | La esencia de Honduras en cada sorbo</title>

  <!-- Fuentes e iconos -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&family=Playfair+Display:wght@600&family=Material+Symbols+Outlined" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- CSS principal -->
  <link rel="stylesheet" href="css/main.css?v=11">
  <link rel="stylesheet" href="css/carrito.css?v=30"> <!-- Para asegurar estilos del menú -->
</head>

<body>

<!-- =====================================================
     HEADER INDEX — MISMA ESTRUCTURA QUE CARRITO
====================================================== -->
<header class="header-fixed">

  <!-- Botón hamburguesa (solo móvil) -->
  <button class="menu-toggle mobile-only" id="menu-toggle" aria-label="Abrir menú">
    <i class="fa-solid fa-bars"></i>
  </button>

  <!-- Logo -->
  <a href="index.html" class="header-logo-link">
    <img src="imagenes/logo.png" alt="Café Cortero" class="header-logo">
  </a>

  <!-- MENÚ ESCRITORIO (cuando NO está logueado → se muestra login) -->
  <nav class="nav-links desktop-only">
    <a href="#productos">Variedades</a>
    <a href="#nosotros">Nosotros</a>
    <a href="#contacto">Contacto</a>

    <!-- Login Desktop -->
    <a href="login.html" id="login-desktop" class="login-link">Iniciar sesión</a>

    <!-- Avatar Desktop (solo si hay sesión → auth-ui.js controla display:none / block) -->
    <div class="profile-wrapper" id="profile-desktop" style="display:none;">
      <button id="btn-header-user" class="header-avatar-button" aria-label="Abrir menú de usuario">
        <img id="avatar-user" src="imagenes/avatar-default.svg" class="header-avatar profile-photo-round" alt="Usuario">
      </button>
    </div>
  </nav>

  <!-- Carrito -->
  <div class="profile-wrapper-cart">
    <button id="cart-btn" class="header-avatar-button" aria-label="Ver carrito">
      <i class="fa-solid fa-cart-shopping"></i>
      <span id="cart-count" class="cart-count">0</span>
    </button>
  </div>

</header>


<!-- =====================================================
     MENÚ FLOTANTE MATERIAL 3 — IGUAL AL DEL CARRITO
====================================================== -->

<!-- SCRIM (fondo oscurecido para el menú flotante) -->
<div id="user-scrim" class="user-scrim"></div>

<!-- MENÚ FLOTANTE MATERIAL 3 — UNIFICADO (LOGUEADO + MISMO DISEÑO DEL CARRITO) -->
<aside id="user-drawer" class="user-drawer" aria-hidden="true">

  <!-- ========= CABECERA (solo visible si está logueado) ========= -->
  <div id="drawer-logged" style="display:none;">
    <a href="perfil.html" class="user-drawer-header user-drawer-profile-link">
      <div class="user-drawer-avatar">
        <img id="avatar-user-drawer" src="imagenes/avatar-default.svg" alt="Usuario">
      </div>

      <div class="user-drawer-profile-texts">
        <p class="user-drawer-name" id="hello-desktop-cart">Hola, Usuario</p>
        <p class="user-drawer-email" id="email-drawer-cart">correo@ejemplo.com</p>
      </div>

      <span class="material-symbols-outlined user-drawer-arrow">chevron_right</span>
    </a>

    <hr class="user-drawer-divider">

    <nav class="user-drawer-nav">
      <a href="mispedidos.html" class="user-drawer-item">
        <span class="user-drawer-item-icon material-symbols-outlined">shopping_bag</span>
        <span>Mis pedidos</span>
      </a>

      <a href="historial.html" class="user-drawer-item">
        <span class="user-drawer-item-icon material-symbols-outlined">history</span>
        <span>Historial de compras</span>
      </a>

      <a href="#productos" class="user-drawer-item">
        <span class="user-drawer-item-icon material-symbols-outlined">local_cafe</span>
        <span>Variedades de café</span>
      </a>

      <a href="#nosotros" class="user-drawer-item">
        <span class="user-drawer-item-icon material-symbols-outlined">groups</span>
        <span>Quiénes somos</span>
      </a>

      <a href="#contacto" class="user-drawer-item">
        <span class="user-drawer-item-icon material-symbols-outlined">mail</span>
        <span>Contáctanos</span>
      </a>

      <hr class="user-drawer-divider">

      <button id="logout-btn" class="user-drawer-item logout">
        <span class="user-drawer-item-icon material-symbols-outlined">logout</span>
        <span>Cerrar sesión</span>
      </button>
    </nav>
  </div>

  <!-- ========= NO LOGUEADO ========= -->
  <div id="drawer-default">
    <nav class="user-drawer-nav">

      <a href="#productos" class="user-drawer-item">
        <span class="material-symbols-outlined user-drawer-item-icon">local_cafe</span>
        <span>Variedades</span>
      </a>

      <a href="#nosotros" class="user-drawer-item">
        <span class="material-symbols-outlined user-drawer-item-icon">groups</span>
        <span>Nosotros</span>
      </a>

      <a href="#contacto" class="user-drawer-item">
        <span class="material-symbols-outlined user-drawer-item-icon">mail</span>
        <span>Contacto</span>
      </a>

      <hr class="user-drawer-divider">

      <a href="login.html" class="user-drawer-item">
        <span class="material-symbols-outlined user-drawer-item-icon">login</span>
        <span>Iniciar sesión</span>
      </a>

    </nav>
  </div>

</aside>


<!-- =====================================================
     CONTENIDO DEL INDEX (NO TOCADO)
====================================================== -->

<main>

  <!-- Hero -->
  <section class="hero">
    <div class="hero-text">
      <h1><span class="verde">La esencia de Honduras en cada sorbo.</span></h1>
      <p>Café hondureño de altura, tueste medio y esencia familiar.</p>
    </div>

    <div class="hero-card">
      <div class="hero-carousel">
        <img src="imagenes/cafe_1.jpg" alt="Café 1">
        <img src="imagenes/cafe_2.jpg" alt="Café 2">
        <img src="imagenes/cafe_3.jpg" alt="Café 3">
        <img src="imagenes/cafe_4.jpg" alt="Café 4">
        <img src="imagenes/cafe_5.jpg" alt="Café 5">
      </div>
    </div>
  </section>

  <!-- Producto principal -->
  <section id="productos" class="product-main">
    <div class="product-text">

      <div class="product-label">
        <small>CAFÉ EN GRANO / MOLIDO</small>
        <p class="subtext">Tueste medio · Altura · Esencia familiar</p>
      </div>

      <h2 id="product-name">Café Cortero 250g</h2>
      <span id="product-badge" class="pill">100% arábica · Danlí</span>

      <div style="margin-top: 1.2rem;">
        <div class="product-split" title="Agregar al carrito">
          <span class="price-part">L 180</span>
          <span class="icon-part" id="product-add">
            <i class="fa-solid fa-cart-plus"></i>
          </span>
        </div>
      </div>

      <div class="quantity-container">
        <button class="qty-btn minus-btn" id="qty-minus">−</button>
        <span class="qty-number" id="qty-number">1</span>
        <button class="qty-btn plus-btn" id="qty-plus">+</button>
      </div>
    </div>

    <div class="product-img-wrap">
      <img id="product-image" src="imagenes/bolsa_1.png" alt="Bolsa Café Cortero">
    </div>
  </section>

  <!-- Carrusel -->
  <section class="related">
    <h3 class="similar-title">También te puede interesar</h3>

    <div class="carousel-container">

      <button class="carousel-prev desktop-only">
        <i class="fa-solid fa-chevron-left"></i>
      </button>

      <div class="similar-list" id="lista-similares"></div>

      <button class="carousel-next desktop-only">
        <i class="fa-solid fa-chevron-right"></i>
      </button>
    </div>
  </section>


  <!-- Nosotros -->
  <section id="nosotros" class="about">
    <div class="about-text">
      <small>Nuestra historia</small>
      <h2>Sobre Café Cortero</h2>
      <p>Café elaborado con tradición familiar…</p>
      <p>Grano seleccionado, tostado con cuidado…</p>

      <div class="about-pills">
        <span class="about-pill">Proyecto familiar</span>
        <span class="about-pill">Origen hondureño</span>
        <span class="about-pill">Café sostenible</span>
      </div>
    </div>

    <div class="about-img">
      <img src="imagenes/nosotros.jpg" alt="Sobre nosotros">
    </div>
  </section>


  <!-- Contacto -->
  <section id="contacto" class="contacto">
    <h2>Contáctanos</h2>
    <p>WhatsApp, Facebook y más…</p>
  </section>

</main>


<!-- Footer -->
<footer>
  <p>
    <img src="imagenes/logo_secundario.png" class="footer-logo-inline">
    2025 Café Cortero. Todos los derechos reservados.
  </p>
</footer>


<!-- FAB -->
<div class="fab-container" id="fab">
  <button class="fab-main" id="fab-main">
    <i class="fa-solid fa-comments"></i>
  </button>

  <div class="fab-options">
    <a href="https://wa.me/50494546047" target="_blank"><i class="fa-brands fa-whatsapp"></i></a>
    <a href="https://facebook.com" target="_blank"><i class="fa-brands fa-facebook-f"></i></a>
  </div>
</div>


<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="js/supabase-client-core.js"></script>
<script src="js/supabase-auth.js"></script>
<script src="js/main.js"></script>
<script src="js/auth-ui.js"></script>

</body>
</html>
