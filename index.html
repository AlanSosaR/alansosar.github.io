<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Café Cortero | La esencia de Honduras en cada sorbo</title>

  <!-- Fuentes e iconos -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&family=Playfair+Display:wght@600&family=Material+Symbols+Outlined" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- CSS principal -->
  <link rel="stylesheet" href="css/main.css?v=13">
</head>

<body>

<!-- =====================================================
     HEADER — DEFINITIVO, ESTABLE
====================================================== -->
<header class="header-fixed no-user" id="main-header">

  <!-- Hamburguesa (solo móvil) -->
  <button class="menu-toggle mobile-only" id="menu-toggle" aria-label="Abrir menú">
    <i class="fa-solid fa-bars"></i>
  </button>

  <!-- Logo -->
  <a href="index.html" class="header-logo-link">
    <img src="imagenes/logo.png" alt="Café Cortero" class="header-logo">
  </a>

  <!-- NAV DESKTOP -->
  <nav class="nav-links desktop-only">
    <a href="#productos">Variedades de café</a>
    <a href="#nosotros">Quiénes somos</a>
    <a href="#contacto">Contáctanos</a>
  </nav>

  <!-- ACCIONES DERECHA -->
  <div class="header-actions">

    <!-- LOGIN / AVATAR (SOLO DESKTOP) -->
    <div class="desktop-only header-user">

      <!-- Invitado -->
      <a href="login.html" id="login-desktop" class="login-link">
        Iniciar sesión
      </a>

      <!-- Logueado -->
      <button id="btn-header-user" class="header-avatar-button" aria-label="Perfil">
        <img id="avatar-user" src="imagenes/avatar-default.svg" alt="Usuario">
      </button>

    </div>

    <!-- CARRITO (SIEMPRE VISIBLE) -->
    <button id="cart-btn" class="cart-button" aria-label="Ver carrito">
      <i class="fa-solid fa-cart-shopping"></i>
      <span id="cart-count" class="cart-count">0</span>
    </button>

  </div>
</header>

<!-- =====================================================
     SCRIM + DRAWER MATERIAL 3
====================================================== -->

<div id="user-scrim" class="user-scrim"></div>

<aside id="user-drawer" class="user-drawer no-user" aria-hidden="true">

  <!-- PERFIL (LOGUEADO) -->
  <a href="perfil.html" class="user-drawer-header logged user-drawer-profile-link">
    <div class="user-drawer-avatar">
      <img id="avatar-user-drawer" src="imagenes/avatar-default.svg" alt="Usuario">
    </div>

    <div class="user-drawer-info">
      <p class="user-drawer-name" id="drawer-name">Hola, Usuario</p>
      <p class="user-drawer-email" id="drawer-email">correo@ejemplo.com</p>
    </div>

    <span class="material-symbols-outlined user-drawer-arrow">chevron_right</span>
  </a>

  <hr class="user-drawer-divider logged">

  <!-- NAVEGACIÓN -->
  <nav class="user-drawer-nav">

    <a href="mispedidos.html" class="user-drawer-item logged">
      <span class="material-symbols-outlined user-drawer-item-icon">shopping_bag</span>
      Mis pedidos
    </a>

    <a href="historial.html" class="user-drawer-item logged">
      <span class="material-symbols-outlined user-drawer-item-icon">history</span>
      Historial de compras
    </a>

    <a href="#productos" class="user-drawer-item">
      <span class="material-symbols-outlined user-drawer-item-icon">local_cafe</span>
      Variedades de café
    </a>

    <a href="#nosotros" class="user-drawer-item">
      <span class="material-symbols-outlined user-drawer-item-icon">groups</span>
      Quiénes somos
    </a>

    <a href="#contacto" class="user-drawer-item">
      <span class="material-symbols-outlined user-drawer-item-icon">mail</span>
      Contáctanos
    </a>

  </nav>

  <hr class="user-drawer-divider">

  <!-- LOGOUT -->
  <button id="logout-btn" class="user-drawer-item logout logged">
    <span class="material-symbols-outlined user-drawer-item-icon">logout</span>
    Cerrar sesión
  </button>

  <!-- LOGIN (INVITADO) -->
  <a href="login.html" class="user-drawer-item login no-user">
    <span class="material-symbols-outlined user-drawer-item-icon">login</span>
    Iniciar sesión
  </a>

</aside>

<!-- =====================================================
     CONTENIDO PRINCIPAL (SIN CAMBIOS)
====================================================== -->
<main>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-text">
      <h1><span class="verde">La esencia de Honduras en cada sorbo.</span></h1>
      <p>Café hondureño de altura, tueste medio y esencia familiar.</p>
    </div>

    <div class="hero-card">
      <div class="hero-carousel">
        <img src="imagenes/cafe_1.jpg" alt="Café 1">
        <img src="imagenes/cafe_2.jpg" alt="Café 2">
        <img src="imagenes/cafe_3.jpg" alt="Café 3">
        <img src="imagenes/cafe_4.jpg" alt="Café 4">
        <img src="imagenes/cafe_5.jpg" alt="Café 5">
      </div>
    </div>
  </section>

  <!-- PRODUCTO PRINCIPAL -->
  <section id="productos" class="product-main">
    <div class="product-text">

      <div class="product-label">
        <small>CAFÉ EN GRANO / MOLIDO</small>
        <p class="subtext">Tueste medio · Altura · Esencia familiar</p>
      </div>

      <h2 id="product-name">Café Cortero 250g</h2>
      <span id="product-badge" class="pill">100% arábica · Danlí</span>

      <div style="margin-top: 1.2rem;">
        <div class="product-split" title="Agregar al carrito">
          <span class="price-part">L 180</span>
          <span class="icon-part" id="product-add">
            <i class="fa-solid fa-cart-plus"></i>
          </span>
        </div>
      </div>

      <div class="quantity-container">
        <button class="qty-btn minus-btn" id="qty-minus">−</button>
        <span class="qty-number" id="qty-number">1</span>
        <button class="qty-btn plus-btn" id="qty-plus">+</button>
      </div>

    </div>

    <div class="product-img-wrap">
      <img id="product-image" src="imagenes/bolsa_1.png" alt="Bolsa Café Cortero">
    </div>
  </section>

  <!-- SIMILARES -->
  <section class="related">
    <h3 class="similar-title">También te puede interesar</h3>

    <div class="carousel-container">
      <button class="carousel-prev desktop-only"><i class="fa-solid fa-chevron-left"></i></button>
      <div class="similar-list" id="lista-similares"></div>
      <button class="carousel-next desktop-only"><i class="fa-solid fa-chevron-right"></i></button>
    </div>
  </section>

  <script>
    (function () {
      const productos = [
        { img: 'imagenes/bolsa_1.png', nombre: 'Café Cortero 250g', precio: 'L 180' },
        { img: 'imagenes/bolsa_2.png', nombre: 'Café Cortero 500g', precio: 'L 320' },
        { img: 'imagenes/bolsa_1.png', nombre: 'Café Cortero 1lb', precio: 'L 550' },
        { img: 'imagenes/bolsa_2.png', nombre: 'Café Regalo', precio: 'L 260' },
        { img: 'imagenes/bolsa_1.png', nombre: 'Café Premium', precio: 'L 480' },
        { img: 'imagenes/bolsa_2.png', nombre: 'Café Tradicional', precio: 'L 150' }
      ];
      const cont = document.getElementById('lista-similares');
      if (cont) cont.innerHTML = productos.map(p => `
        <div class="similar-card"
          data-name="${p.nombre}"
          data-price="${p.precio}"
          data-img="${p.img}">
          <img src="${p.img}" alt="${p.nombre}">
          <h4>${p.nombre}</h4>
          <div class="price-sm">${p.precio}</div>
        </div>
      `).join('');
    })();
  </script>

  <!-- NOSOTROS -->
  <section id="nosotros" class="about">
    <div class="about-text">
      <small>Nuestra historia</small>
      <h2>Sobre Café Cortero</h2>
      <p>
        Café Cortero es un proyecto familiar que produce café de calidad,
        amigable con el medio ambiente y con el sabor auténtico de Honduras.
      </p>
      <p>
        Cada grano es cultivado con respeto, cosechado a mano y tostado con dedicación.
      </p>
    </div>

    <div class="about-img">
      <img src="imagenes/nosotros.jpg" alt="Sobre nosotros">
    </div>
  </section>

  <!-- CONTACTO -->
  <section id="contacto" class="contacto">
    <h2>Contáctanos</h2>
    <p>
      Escríbenos por <strong class="verde">WhatsApp</strong> o síguenos en
      <strong class="verde">Facebook</strong>.
    </p>
  </section>

</main>

<!-- FOOTER -->
<footer>
  <p>
    <img src="imagenes/logo_secundario.png" class="footer-logo-inline" alt="Café Cortero">
    2025 Café Cortero. Todos los derechos reservados.
  </p>
</footer>

<!-- FAB -->
<div class="fab-container" id="fab">
  <button class="fab-main" id="fab-main">
    <i class="fa-solid fa-comments"></i>
  </button>

  <div class="fab-options">
    <a href="https://wa.me/50494546047" target="_blank">
      <i class="fa-brands fa-whatsapp"></i>
    </a>
    <a href="https://www.facebook.com/share/1FsrT4DYrU/" target="_blank">
      <i class="fa-brands fa-facebook-f"></i>
    </a>
  </div>
</div>

<!-- SCRIPTS -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="js/supabase-client-core.js"></script>
<script src="js/supabase-auth.js"></script>
<script src="js/main.js?v=13"></script>
<script src="js/auth-ui.js"></script>

</body>
</html>
