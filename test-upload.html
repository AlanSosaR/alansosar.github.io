<input type="file" id="fileInput" accept="image/*">

<button id="uploadBtn">Subir archivo de prueba</button>

<script type="module">
  import { supabase } from "./js/supabase-client.js";

  const fileInput = document.getElementById("fileInput");
  const uploadBtn = document.getElementById("uploadBtn");

  uploadBtn.addEventListener("click", async () => {
    const file = fileInput.files[0];

    if (!file) {
      alert("Selecciona un archivo primero.");
      return;
    }

    const filePath = `${Date.now()}-${file.name}`;

    const { data, error } = await supabase.storage
      .from("avatars")
      .upload(filePath, file);

    if (error) {
      alert("Error subiendo: " + error.message);
    } else {
      alert("Subido con Ã©xito: " + data.path);
    }
  });
</script>
