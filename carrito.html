<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tu selección de café | Café Cortero</title>

  <!-- Tipografía -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- Iconos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Material Symbols -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />

  <!-- CSS -->
  <link rel="stylesheet" href="css/carrito.css?v=24">
</head>

<body>

  <!-- =====================================================
       HEADER
  ====================================================== -->
  <header>
      <a href="index.html" class="header-logo-link">
        <img src="imagenes/logo.png" alt="Café Cortero" class="header-logo">
      </a>

      <span class="cart-title">
        Tu selección de café <span id="count-items">(0 cafés)</span>
      </span>

      <a href="perfil.html" class="header-avatar-link">
        <img src="imagenes/avatar-default.svg" id="avatar-user" class="header-avatar">
      </a>
  </header>


  <!-- =====================================================
        SEGUIR COMPRANDO
  ====================================================== -->
  <div id="seguir-wrapper" class="seguir-comprando seguir-left">
      <button class="icon-back" onclick="window.location.href='index.html'">
          <span class="material-symbols-outlined">chevron_left</span>
      </button>

      <a href="index.html" class="seguir-link">Seguir comprando</a>
  </div>


  <!-- =====================================================
        GRID PRINCIPAL — PRODUCTOS + RESUMEN
  ====================================================== -->
  <main>

    <div class="grid-carrito">

      <!-- =====================================================
           COLUMNA IZQUIERDA (PRODUCTOS + GUARDADOS)
      ====================================================== -->
      <div class="col-productos">

          <div id="cart-container"></div>

          <!-- GUARDADO PARA MÁS TARDE -->
          <section id="saved-section" class="saved-wrapper">
              <div class="saved-card">
                  <h3 class="saved-card-title">Guardado para más tarde</h3>

                  <div id="saved-list" class="saved-list empty-saved">
                      <p class="saved-empty-title">No hay cafés guardados todavía</p>
                      <p class="saved-empty-sub">Añade a esta lista tus cafés que no estás comprando hoy</p>
                  </div>
              </div>
          </section>

      </div>

      <!-- =====================================================
           COLUMNA DERECHA — RESUMEN DEL PEDIDO
      ====================================================== -->
      <div class="col-resumen" id="resumen-container">

        <!-- Aquí se inserta dinámicamente el resumen por JS -->

        <!-- SNACKBAR -->
        <div id="snackbar-login" class="snackbar hidden">
          Necesitas iniciar sesión para continuar con tu pedido.
        </div>

      </div>

    </div>

  </main>

  <!-- ===========================
        LOADER
  ============================ -->
  <div id="page-loader" class="page-loader hidden">
      <div class="loader-circle"></div>
  </div>

  <!-- ===========================
        SCRIPTS NECESARIOS
  ============================ -->

  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<!-- Supabase Core -->
<script src="js/supabase-client-core.js"></script>

<!-- Manejo REAL de login, logout, sesión -->
<script src="js/supabase-auth-v4.js"></script>

<!-- Avatar + menú según estado de sesión -->
<script src="js/auth-ui.js"></script>

<!-- Lógica del carrito -->
<script src="js/cart.js?v=2400"></script>

</body>
</html>
