<!-- =====================================================
     HEADER — DEFINITIVO, ESTABLE (FINAL CORREGIDO)
====================================================== -->
<header class="header-fixed no-user" id="main-header">

  <!-- HAMBURGUESA (SOLO MÓVIL) -->
  <button id="menu-toggle" class="menu-toggle mobile-only" aria-label="Abrir menú">
    <span class="material-symbols-outlined">menu</span>
  </button>

  <!-- LOGO -->
  <a href="index.html" class="header-logo-link">
    <img src="/imagenes/logo.png" alt="Café Cortero" class="header-logo">
  </a>

  <!-- TÍTULO DINÁMICO -->
  <h1 id="header-title" class="header-title hidden"></h1>

  <!-- BLOQUE DERECHO -->
  <div class="header-right">

    <!-- NAV DESKTOP — VISITANTE -->
    <nav id="public-nav" class="nav-links desktop-only header-nav no-user">
      <a href="#productos">Variedades de café</a>
      <a href="#nosotros">Quiénes somos</a>
      <a href="#contacto">Contáctanos</a>
    </nav>

    <!-- NAV DESKTOP — LOGUEADO -->
    <nav id="private-nav" class="nav-links desktop-only header-nav logged hidden">
      <a href="mispedidos.html">Mis pedidos</a>
      <a href="historial.html">Historial</a>
    </nav>

    <!-- ACCIONES DERECHA -->
    <div class="header-actions">

      <!-- USUARIO — DESKTOP -->
      <div class="desktop-only header-user">

        <!-- LOGIN (VISIBLE PARA VISITANTE) -->
        <a href="login.html"
           id="login-desktop"
           class="login-link no-user">
          Iniciar sesión
        </a>

        <!-- AVATAR (SOLO LOGUEADO) -->
        <button id="btn-header-user"
                class="header-avatar-button logged hidden"
                aria-label="Perfil">
          <img id="avatar-user"
               src="/imagenes/avatar-default.svg"
               alt="Usuario">
        </button>

      </div>

      <!-- CARRITO (SIEMPRE VISIBLE) -->
      <button id="cart-btn"
              class="cart-button"
              aria-label="Ver carrito">
        <i class="fa-solid fa-cart-shopping"></i>
        <span id="cart-count" class="cart-count">0</span>
      </button>

    </div>
  </div>
</header>

<!-- =====================================================
     SCRIM + DRAWER MATERIAL 3
====================================================== -->

<div id="user-scrim" class="user-scrim" aria-hidden="true"></div>

<aside id="user-drawer" class="user-drawer no-user" aria-hidden="true">

  <!-- PERFIL (LOGUEADO) -->
  <a href="perfil.html"
     class="user-drawer-header user-drawer-profile-link logged hidden">

    <div class="user-drawer-avatar">
      <img id="avatar-user-drawer"
           src="/imagenes/avatar-default.svg"
           alt="Usuario">
    </div>

    <div class="user-drawer-info">
      <p class="user-drawer-name" id="drawer-name">Usuario</p>
      <p class="user-drawer-email" id="drawer-email">correo@ejemplo.com</p>
    </div>

    <span class="material-symbols-outlined user-drawer-arrow">
      chevron_right
    </span>
  </a>

  <hr class="user-drawer-divider logged hidden">

  <!-- NAVEGACIÓN -->
  <nav class="user-drawer-nav">

    <!-- LOGUEADO -->
    <a href="mispedidos.html" class="user-drawer-item logged hidden">
      <span class="material-symbols-outlined user-drawer-item-icon">shopping_bag</span>
      Mis pedidos
    </a>

    <a href="historial.html" class="user-drawer-item logged hidden">
      <span class="material-symbols-outlined user-drawer-item-icon">history</span>
      Historial de compras
    </a>

    <!-- PÚBLICO -->
    <a href="#productos" class="user-drawer-item no-user">
      <span class="material-symbols-outlined user-drawer-item-icon">local_cafe</span>
      Variedades de café
    </a>

    <a href="#nosotros" class="user-drawer-item no-user">
      <span class="material-symbols-outlined user-drawer-item-icon">groups</span>
      Quiénes somos
    </a>

    <a href="#contacto" class="user-drawer-item no-user">
      <span class="material-symbols-outlined user-drawer-item-icon">mail</span>
      Contáctanos
    </a>

  </nav>

  <hr class="user-drawer-divider">

  <!-- LOGOUT (SOLO LOGUEADO) -->
  <button id="logout-btn" class="user-drawer-item logout logged hidden">
    <span class="material-symbols-outlined user-drawer-item-icon">logout</span>
    Cerrar sesión
  </button>

  <!-- LOGIN (VISIBLE PARA VISITANTE) -->
  <a href="login.html" class="user-drawer-item login no-user">
    <span class="material-symbols-outlined user-drawer-item-icon">login</span>
    Iniciar sesión
  </a>

</aside>
