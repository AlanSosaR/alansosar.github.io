<!-- =====================================================
     HEADER — DEFINITIVO, ESTABLE (FINAL)
====================================================== -->
<header class="header-fixed no-user" id="main-header">

  <!-- =====================
       HAMBURGUESA (SOLO MÓVIL)
       Visible en móvil (abre drawer)
  ====================== -->
  <button id="menu-toggle" class="menu-toggle mobile-only" aria-label="Abrir menú">
    <span class="material-symbols-outlined">menu</span>
  </button>

  <!-- =====================
       LOGO (SIEMPRE VISIBLE)
  ====================== -->
  <a href="index.html" class="header-logo-link">
    <img src="/imagenes/logo.png" alt="Café Cortero" class="header-logo">
  </a>

  <!-- =====================
       TÍTULO DINÁMICO
       (carrito / recibo / etc.)
  ====================== -->
  <h1 id="header-title" class="header-title hidden"></h1>

  <!-- =====================
       BLOQUE DERECHO ÚNICO
       (nav + login/avatar + carrito)
  ====================== -->
  <div class="header-right">

    <!-- =====================
         NAV DESKTOP
         Visible para invitado y logueado
    ====================== -->
    <nav class="nav-links desktop-only header-nav">
      <a href="#productos">Variedades de café</a>
      <a href="#nosotros">Quiénes somos</a>
      <a href="#contacto">Contáctanos</a>
    </nav>

    <!-- =====================
         ACCIONES DERECHA
    ====================== -->
    <div class="header-actions">

      <!-- =====================
           USUARIO — SOLO DESKTOP
      ====================== -->
      <div class="desktop-only header-user">

        <!-- ===== INVITADO ===== -->
        <!-- Visible cuando NO hay sesión -->
        <a href="login.html"
           id="login-desktop"
           class="login-link no-user">
          Iniciar sesión
        </a>

        <!-- ===== LOGUEADO ===== -->
        <!-- Visible cuando hay sesión -->
        <button id="btn-header-user"
                class="header-avatar-button logged"
                aria-label="Perfil">
          <img id="avatar-user"
               src="/imagenes/avatar-default.svg"
               alt="Usuario">
        </button>

      </div>

      <!-- =====================
           CARRITO
           (Siempre visible)
      ====================== -->
      <button id="cart-btn"
              class="cart-button"
              aria-label="Ver carrito">
        <i class="fa-solid fa-cart-shopping"></i>
        <span id="cart-count" class="cart-count">0</span>
      </button>

    </div>
  </div>
</header>

<!-- =====================================================
     SCRIM + DRAWER MATERIAL 3
====================================================== -->

<div id="user-scrim" class="user-scrim" aria-hidden="true"></div>

<aside id="user-drawer" class="user-drawer no-user" aria-hidden="true">

  <!-- PERFIL (LOGUEADO) -->
  <a href="perfil.html"
     class="user-drawer-header user-drawer-profile-link logged">

    <div class="user-drawer-avatar">
      <img id="avatar-user-drawer"
           src="/imagenes/avatar-default.svg"
           alt="Usuario">
    </div>

    <div class="user-drawer-info">
      <p class="user-drawer-name" id="drawer-name">Usuario</p>
      <p class="user-drawer-email" id="drawer-email">correo@ejemplo.com</p>
    </div>

    <span class="material-symbols-outlined user-drawer-arrow">
      chevron_right
    </span>
  </a>

  <hr class="user-drawer-divider logged">

  <!-- NAVEGACIÓN -->
  <nav class="user-drawer-nav">

    <a href="mispedidos.html" class="user-drawer-item logged">
      <span class="material-symbols-outlined user-drawer-item-icon">
        shopping_bag
      </span>
      Mis pedidos
    </a>

    <a href="historial.html" class="user-drawer-item logged">
      <span class="material-symbols-outlined user-drawer-item-icon">
        history
      </span>
      Historial de compras
    </a>

    <a href="#productos" class="user-drawer-item">
      <span class="material-symbols-outlined user-drawer-item-icon">
        local_cafe
      </span>
      Variedades de café
    </a>

    <a href="#nosotros" class="user-drawer-item">
      <span class="material-symbols-outlined user-drawer-item-icon">
        groups
      </span>
      Quiénes somos
    </a>

    <a href="#contacto" class="user-drawer-item">
      <span class="material-symbols-outlined user-drawer-item-icon">
        mail
      </span>
      Contáctanos
    </a>

  </nav>

  <hr class="user-drawer-divider">

  <!-- LOGOUT (LOGUEADO) -->
  <button id="logout-btn" class="user-drawer-item logout logged">
    <span class="material-symbols-outlined user-drawer-item-icon">
      logout
    </span>
    Cerrar sesión
  </button>

  <!-- LOGIN (INVITADO) -->
  <a href="login.html" class="user-drawer-item login no-user">
    <span class="material-symbols-outlined user-drawer-item-icon">
      login
    </span>
    Iniciar sesión
  </a>

</aside>
